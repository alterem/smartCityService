layui.define(["element"],function(c){var e=layui.element(),d=layui.jquery,f=parent.layer===undefined?layui.layer:parent.layer,h="navtab",b=0,i=function(){this.config={elem:undefined,closed:true}};var a={};i.prototype.set=function(j){var k=this;d.extend(true,k.config,j);return k};i.prototype.init=function(){var m=this;var k=m.config;if(typeof(k.elem)!=="string"&&typeof(k.elem)!=="object"){f.alert("Tab选项卡错误提示: elem参数未定义或设置出错，具体设置格式请参考文档API.")}var l;if(typeof(k.elem)==="string"){l=d(""+k.elem+"")}if(typeof(k.elem)==="object"){l=k.elem}if(l.length===0){f.alert("Tab选项卡错误提示:找不到elem参数配置的容器，请检查.")}var j=l.attr("lay-filter");if(j===undefined||j===""){f.alert("Tab选项卡错误提示:请为elem容器设置一个lay-filter过滤器")}k.elem=l;a.titleBox=l.children("ul.layui-tab-title");a.contentBox=l.children("div.layui-tab-content");a.tabFilter=j;return m};i.prototype.exists=function(k){var l=a.titleBox===undefined?this.init():this,j=-1;a.titleBox.find("li").each(function(n,o){var m=d(this).children("em");if(m.text()===k){j=n}});return j};i.prototype.tabAdd=function(l){var n=this;var j=n.exists(l.title);if(j===-1){b++;var k='<iframe src="'+l.href+'" data-id="'+b+'" class="larry-iframe"></iframe>';var m="";if(l.icon!==undefined){if(l.icon.indexOf("fa-")!==-1){m+='<i class="'+l.icon+'"></i>'}else{m+='<i class="layui-icon ">'+l.icon+"</i>"}}m+="<em>"+l.title+"</em>";if(n.config.closed){m+='<i class="layui-icon layui-unselect layui-tab-close" data-id="'+b+'">&#x1006;</i>'}e.tabAdd(a.tabFilter,{title:m,content:k});a.contentBox.find("iframe[data-id="+b+"]").each(function(){d(this).height(a.contentBox.height())});if(n.config.closed){a.titleBox.find("li").children("i.layui-tab-close[data-id="+b+"]").on("click",function(){e.tabDelete(a.tabFilter,d(this).parent("li").index()).init()})}e.tabChange(a.tabFilter,a.titleBox.find("li").length-1)}else{e.tabChange(a.tabFilter,j)}};var g=new i();c(h,function(j){return g.set(j)})});