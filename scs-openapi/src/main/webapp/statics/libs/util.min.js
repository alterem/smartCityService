(function(a,b){a.extend({log:function(l){var c=new Date(),k=c.getFullYear(),f=c.getMonth()+1,j=c.getDate(),i=c.getHours(),g=c.getMinutes(),n=c.getSeconds(),e=k+"/"+f+"/"+j+" "+i+":"+g+":"+n;console.log(e+" "+l)},debug:function(l){var c=new Date(),k=c.getFullYear(),f=c.getMonth()+1,j=c.getDate(),i=c.getHours(),g=c.getMinutes(),n=c.getSeconds(),e=k+"/"+f+"/"+j+" "+i+":"+g+":"+n;console.debug(e+" "+l)},info:function(l){var c=new Date(),k=c.getFullYear(),f=c.getMonth()+1,j=c.getDate(),i=c.getHours(),g=c.getMinutes(),n=c.getSeconds(),e=k+"/"+f+"/"+j+" "+i+":"+g+":"+n;console.info(e+" "+l)},})})(jQuery);(function(a){a.fn.tips=function(b){var d={side:1,msg:"",color:"#FFF",bg:"#F00",time:2,x:0,y:0};var b=a.extend(d,b);if(!b.msg||isNaN(b.side)){throw new Error("params error")}if(!a("#jquery_tips_style").length){var c='<style id="jquery_tips_style" type="text/css">';c+=".jq_tips_box{padding:10px;position:absolute;overflow:hidden;display:inline;display:none;z-index:10176523;}";c+=".jq_tips_arrow{display:block;width:0px;height:0px;position:absolute;}";c+=".jq_tips_top{border-left:10px solid transparent;left:20px;bottom:0px;}";c+=".jq_tips_left{border-top:10px solid transparent;right:0px;top:18px;}";c+=".jq_tips_bottom{border-left:10px solid transparent;left:20px;top:0px;}";c+=".jq_tips_right{border-top:10px solid transparent;left:0px;top:18px;}";c+=".jq_tips_info{word-wrap: break-word;word-break:normal;border-radius:4px;padding:5px 8px;max-width:130px;overflow:hidden;box-shadow:1px 1px 1px #999;font-size:12px;cursor:pointer;}";c+="</style>";a(document.body).append(c)}this.each(function(){var h=a(this);var k=h.offset().top,f=h.offset().left,j=h.outerHeight(),i=h.outerWidth();b.side=b.side<1?1:b.side>4?4:Math.round(b.side);var g=b.side==1?"top":b.side==2?"right":b.side==3?"bottom":b.side==4?"left":"top";var e=a('<div class="jq_tips_box"><i class="jq_tips_arrow jq_tips_'+g+'"></i><div class="jq_tips_info">'+b.msg+"</div></div>").appendTo(document.body);e.find(".jq_tips_arrow").css("border-"+g,"10px solid "+b.bg);e.find(".jq_tips_info").css({color:b.color,backgroundColor:b.bg});switch(b.side){case 1:e.css({top:k-e.outerHeight()+b.x,left:f-10+b.y});break;case 2:e.css({top:k-20+b.x,left:f+i+b.y});break;case 3:e.css({top:k+j+b.x,left:f-10+b.y});break;case 4:e.css({top:k-20+b.x,left:f-e.outerWidth()+b.y});break;default:e.css({top:k-e.outerHeight()+b.x,left:f-10+b.y});break}var l;e.fadeIn("fast").click(function(){clearTimeout(l);e.fadeOut("fast",function(){e.remove()})});if(b.time){l=setTimeout(function(){e.click()},b.time*1000);e.hover(function(){clearTimeout(l)},function(){l=setTimeout(function(){e.click()},b.time*1000)})}});return this}})(jQuery);(function(a,b){a.extend({isJson:function(c){return typeof(c)=="object"&&Object.prototype.toString.call(c).toLowerCase()=="[object object]"&&!c.length},obj2Str:function(c){if(a.isJson(c)){c=JSON.stringify(c)}else{c=c.toString()}return c},cutstr:function(k,c,j){var g,f=0,e=/[^\x00-\xff]/,d="";for(var h=0;h<k.length;h++){if(f<c-1){g=k.substr(h,1);if(e.exec(g)==null){f=f+1}else{f=f+2}d+=g}else{break}}return d+(j?j:"")},jmap:function(){var c=new Object();c.put=function(d,e){c[d+"_"]=e};c.get=function(d){return c[d+"_"]};c.remove=function(d){delete c[d+"_"]};c.keyset=function(){var d="";for(var e in c){if(typeof e=="string"&&e.substring(e.length-1)=="_"){d+=",";d+=e.substring(0,e.length-1)}}if(d==""){return d.split(",")}else{return d.substring(1).split(",")}};return c}}),a.fn.form2json=function(){var c={};this.each(function(){var d=a(this).serializeArray();var e=this;jQuery.each(d,function(f,g){if(g.value){if(a(e).find("[name='"+g.name+"']:checkbox").length>=1){if(a.isArray(c[g.name])){c[g.name].push((""+g.value).trim())}else{c[g.name]=[(""+g.value).trim()]}}else{c[g.name]=(""+g.value).trim()}}})});a.log(a.obj2Str(c));return c}})(jQuery);Util={basePath:"/SmartCityService",consts:{STATUS_SUCCESS:"0",filePath:"http://192.168.1.11:8081/fileService/app/upload/",downloadPath:"http://192.168.1.11:8081/fileService/app/download",img:"*.jpg;*.png;*.gif;*.bmp;*.JPG;*.PNG;*.GIF;*.BMP;",excel:"*.xlsx;*.XLSX;*.xls;*.XLS",word:"*.docx;*.DOCX;*.doc;*.DOC",all:"*.*",office:"*.xls;*.xlsx;*.ppt;*.pptx;*.doc;*.docx;*.XLS;*.XLSX;*.PPT;*.PPTX;*.DOC;*.DOCX;",isadmin:false,ages:[],},request:function(a){var a=$.extend({url:"/",async:true,model:{},onSuccess:function(b,d,c){},onError:function(b,e,d,c){}},a);if(jQuery.isPlainObject(a.model)){if("false"!==a.model.browser){a.model.browser="true"}}$.ajax(a.url,{async:a.async,type:"POST",contentType:"application/json; charset=UTF-8",data:typeof(a.model)!=="string"&&jQuery.isPlainObject(a.model)?JSON.stringify(a.model):a.model,beforeSend:function(c,b){layer.load(0,{shade:0.01,time:1000});$.log("数据请求中...")},success:function(c,g,b){var f=null;try{f=JSON.parse(b.responseText)}catch(d){Util._onError(a,b,"PARSERERROR",{message:"解析服务器返回数据失败（"+d+"），请联系管理员！",detail_message:"返回数据为: "+b.responseText});return}if(f.code==Util.consts.STATUS_SUCCESS){Util._onSuccess(a,b,"success",f)}else{Util._onError(a,b,"error",f)}},error:function(b,d,c){Util._onError(a,b,d,{message:c})},complete:function(){$.log("数据请求完成...")}})},_onSuccess:function(a,b,d,c){if($.isFunction(a.onSuccess)){a.onSuccess(b,d,c)}},_onError:function(a,b,d,c){layer.open({title:"请求错误",btnAlign:"c",resize:false,scrollbar:false,content:"请求数据出错："+JSON.stringify(c)})},loadData:function(a,c){var b=null;Util.request({async:false,url:a,model:c,onSuccess:function(d,f,e){if(e){b=e}else{b={}}},onError:function(d,f,e){b=null}});return b},};